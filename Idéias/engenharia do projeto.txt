â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          USUÃRIO FINAL                       â”‚
â”‚               (Operador / Gerente de Loja / Adm)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚                            â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
        â”‚  JavaFX UI  â”‚              â”‚  Web UI     â”‚
        â”‚ (Desktop)   â”‚              â”‚ (Thymeleaf) â”‚
        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
               â”‚                            â”‚
         RESTful API (Spring Boot + JWT + Spring Security)
               â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚  Application Layer  â”‚  â† lÃ³gica de negÃ³cio
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚  Repository Layer   â”‚  â† comunicaÃ§Ã£o com o MongoDB
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚     MongoDB         â”‚  â† persistÃªncia de dados
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“¦ MÃ“DULOS DO SISTEMA
1. MÃ³dulo de UsuÃ¡rios
Cadastro, login, autenticaÃ§Ã£o via JWT

Perfis: ADMIN, GERENTE, CAIXA

2. MÃ³dulo de Fechamento de Caixa
Registro de:

Data, responsÃ¡vel

Caixa inicial, vendas, troco inserido

Formas de pagamento: dinheiro, PIX, cartÃ£o, depÃ³sito

Sangrias

ValidaÃ§Ã£o de inconsistÃªncias nos totais

3. MÃ³dulo de Captura de Comprovante
Upload de imagem (JPG/PNG) do relatÃ³rio das mÃ¡quinas de cartÃ£o

Armazenamento em MongoDB ou Google Drive (usando a API)

4. MÃ³dulo de RelatÃ³rios
ExportaÃ§Ã£o para Excel com Apache POI

GeraÃ§Ã£o de relatÃ³rio diÃ¡rio, semanal ou mensal

InclusÃ£o opcional de comprovantes no relatÃ³rio

5. MÃ³dulo de Backup
IntegraÃ§Ã£o com Google Drive

Backup automÃ¡tico de fechamentos e comprovantes ao fim do dia

ğŸ—‚ï¸ ESTRUTURA DE PACOTES (Spring Boot)
com.seucodigo.fecharcaixa
â”œâ”€â”€ config          # ConfiguraÃ§Ãµes de seguranÃ§a, JWT, etc.
â”œâ”€â”€ controller      # REST Controllers
â”œâ”€â”€ dto             # Data Transfer Objects
â”œâ”€â”€ exception       # ExceÃ§Ãµes customizadas
â”œâ”€â”€ model           # Documentos do MongoDB
â”œâ”€â”€ repository      # Interfaces MongoRepository
â”œâ”€â”€ service         # Regras de negÃ³cio
â”œâ”€â”€ util            # UtilitÃ¡rios (POI, conversÃµes, etc.)
â””â”€â”€ main            # Classe principal

ğŸ–¥ï¸ INTERFACE COM JavaFX
Tela de login

Tela de fechamento de caixa

FormulÃ¡rio para registrar cada entrada

BotÃ£o para upload do comprovante

GeraÃ§Ã£o de relatÃ³rio local ou upload para Drive

ğŸ” SEGURANÃ‡A
Spring Security + JWT

Login por e-mail/senha

AutorizaÃ§Ã£o por papel (hasRole("GERENTE"), etc.)

Senha criptografada com BCrypt

ğŸ“Š MODELO DE DOCUMENTO (MongoDB â€“ Exemplo simplificado)
{
  "_id": "auto",
  "data": "2025-04-30",
  "responsavel": "VinÃ­cius",
  "caixaInicial": 100,
  "vendas": 250,
  "trocoInserido": 50,
  "formasPagamento": {
    "dinheiro": 100,
    "pix": 15,
    "deposito": 10,
    "sangria": 40,
    "vale": 10
  },
  "comprovanteCartao": "url ou base64",
  "totalEntradas": 250,
  "totalAtivos": 175,
  "inconsistencia": true
}

